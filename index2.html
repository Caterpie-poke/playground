<!DOCTYPE html>
<html>

<head>
  <title>Puppy: A Educational Simplification of Python with a Live Playground</title>
  <link rel="stylesheet" type="text/css" href="index.css">
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/pcooksey/bibtex-js/5ccf967/src/bibtex_js.js"></script>
  <bibtex src="./bib/test.bib"></bibtex>
</head>
<body>
  <div class="all-contents">
    <div id="essay">

      <div class="header">
        <h1>Puppy: A Educational Simplification of Python with a Live Playground</h1>
        <div class="authors">
          <div class='author'>
            <div class='name'>
              Taku Tada
            </div>
            <div class='institution'>
              Yokohama National University
            </div>
            <div class='e-mail'>
              <a href="tada-taku-jp@ynu.jp">tada-taku-jp@ynu.jp</a>
            </div>
          </div>
          <div class='author'>
            <div class='name'>
              Yuka Akinobu
            </div>
            <div class='institution'>
              Japan Women's University
            </div>
          </div>
          <div class='author'>
            <div class='name'>
              Makoto Sakane
            </div>
            <div class='institution'>
              Japan Women's University
            </div>
          </div>
          <div class='author'>
            <div class='name'>
              Kimio Kuramitsu
            </div>
            <div class='institution'>
              Japan Women's University
            </div>
            <div class='e-mail'>
              <a href="kuramitsuk@fc.jwu.ac.jp">kuramitsuk@fc.jwu.ac.jp</a>
            </div>
          </div>
        </div>
      </div>

      <div class="body">
        <h3>Abstract</h3>
        <p>
          Debuggers are useful tools to confirm the behavior of the program.
          In particular, those help beginners who are not familiar with programming to understand programs.
          Therefore, we consider that it is desirable to use a live programming environment integrating an editor and a debugger in learning programming.
          Puppy is an educational programming language on the assumption that using a live programming environment having a physics engine.
          It is possible to describe the objects on a physics engine by Puppy.
          Using a physics engine, only a little amount of code can express complex behavior.
          In this essay, we illustrate the system of the live programming environment and specification of Puppy.
        </p>
        <h3>Introduction</h3>
        <p>
          <!-- A debugger is a useful tool for programmers who suffer from bugs.
          It makes possible to visualize states of machines by inserting breakpoints or running per steps.
          However, to use debuggers, it needs to know a few kinds of commands and the right position of breakpoints.
          DrRacket and Stepper are pedagogical programming environments for novice programmers unfamiliar with debuggers.
          These tools make coding fluidly by showing results of evaluations each step.
          Furthermore, the visualization of the states of machines helps novice programmers to understand the interpretation of computer.
          Scratch provides the environment which can try to run the interesting blocks and show its result visually as soon. Thus,
          learners are able to understand the interpretation of computer interactively. -->
        </p>
        <!-- <p>
          コーディングは目標とするプログラムの振る舞いをコンピュータが解釈できるような表現に落とし込む作業である．
          このプログラムの振る舞いは，標準出力に出力して確認をしたり，デバッガなどのツールを用いて確認することができるが，ほとんどはプログラマの頭の中で想像されている．
          そのため，書いているコードが想像している振る舞いとは異なる振る舞いを表現していることも少なくない．
          特に，プログラミング初学者はプログラミングの理解が浅いため，想像通りの振る舞いをするコードを書くことは困難である.
          複雑になったコードから訂正箇所を見つけるのは，熟練のプログラマでも骨が折れる作業であり，学習に対する意欲を損ねかねない．
          そのため，プログラミング学習ではこまめに実行結果を確認できるライブプログラミング環境が望ましい．
          また，初学者にとって環境構築も大きな障壁となるため，CodecademyやSwift Playgroundsなどのプログラミング学習サービスは出力とエディタが統一された環境を提供している．
          これらのことはプログラミング教育においても同様であり，ライブプログラミング環境は授業に導入しやすく，授業の進行を円滑にする.
          Coding is the task of applying the behavior of the target program to a representation that a computer can interpret. The
          behavior of this program can be confirmed by outputting it to the standard output, or by using a tool such as a
          debugger, although most are imagined in the mind of the programmers. For this reason, the code often expresses a
          different behavior that is imagined. In particular, it is difficult for beginners to write code that behaviors as
          expected because they have a poor understanding of the program. Finding the revision place in complex code is a daunting
          task for even skilled programmers, and can detract from the motivation for learning. Therefore, in programming learning,
          it is desirable to use a live programming environment that allows you to check execution results frequently. Besides,
          since environment construction is a major barrier for beginners, programming learning services provide an integrated
          environment of output and editor, such as Codecademy and Swift Playgrounds. A live programming environment is easy to
          introduce into classes and facilitates class progression.
        </p> -->
        <p>
          In this essay, we introduce Puppy Playground, an live programming environment for programming education.
          The live programming environment provides to switch coding and debugging seamlessly.
          As soon as you write the code, it will be reflected in the execution result.
          Puppy is an educational language to write on Puppy Playground.
          On the playground, the objects written by Puppy are visualized as execution results.
          In addition, the objects behave in the law of classical physics, since the playground has a physics engine.
          Hence, the playground realizes complex behaviors even with a small amount of code.
        </p>
        <p>
          <!-- 現在，教育用言語はScratchを代表としたビジュアルプログラミング言語が注目を浴びている．
          ビジュアルプログラミングはコードを書く必要がなく，厳密な構文規則やタイプミスなどに悩まされなくてよい．
          しかし，実用的なプログラミング言語のほとんどはコードの記述が必要であり，両者の間には溝がある．
          Puppyはコードベースのプログラミング言語として実用言語への橋渡しを目指している．
          構文規則の緩和や自然言語処理を応用することで，初学者のコーディングを支援し滑らかなプログラミング体験を提供する．
          以下は，Puppyのライブプログラミング環境であるPuppy Playgroundでのデモ動画である． -->
          The concept of Puppy is code-based unlike block-based languages such as Scratch.
          Almost practical programming languages require code description.
          We consider that it should support for coding rather than removing coding.
          Therefore, the playground assists the fluid coding experience in some features.
          The following is a demonstration video on Puppy Playground.
          <!-- At present, visual programming languages, such as Scratch, have been attracting attention. Visual programming does not
          require you to write code and not suffer from strict syntax or typing mistakes. However, most practical programming
          languages require code description, and there is a gap between the two. Puppy aims to address the bridge to practical
          languages as code-based programming languages. It supports beginner’s coding and provides a smooth programming
          experience by relaxed syntax rules and application of natural language processing. The following is a demonstration
          video on Puppy Playground. -->
        </p>
        <h3>Puppy</h3>
        <div class='TODO'>
          ボールが跳ねるデモ
        </div>
        <p>
          <div class='TODO'>
            PlayGroundの見方
            オブジェクトの作り方 + 種類
            座標系の作り方
          </div>
        </p>
        <div class='TODO'>
          World+ドミノ倒しのデモ
        </div>
        <p>
          <div class='TODO'>
            Worldの説明
            Live Coding
          </div>
        </p>
        <div class='TODO'>
          World+ドミノ倒しのデモ(リファクタ版)
        </div>
        <p>
          <div class='TODO'>
            使用できるPythonの文法
          </div>
        </p>
        <div class='TODO'>
          クリックイベント
          衝突イベント
          クラス
        </div>
        <h3>Puppy Playground</h3>
        <p>
        Puppy describes the objects on the physics engine.
        To take advantage of Puppy, we provide a live programming environment called Puppy Playground.
        On this playground, the written code is auto executed and the area which the physicas engine running visualizes its result.
        Furthermore, since the playground implemented as a web application, it can be easy to start without complex environment setup.
        Here's a screenshot of Puppy Playground and explanations of each part.
        </p>
        <div class="caption">Puppy Playground</div>
        <img src='./image/playground.png' width="80%" height="auto">
        <ul>
          <li>Editor</li>
          <p>
            This is an editor to write a Puppy code.
            It provides immediate feedback on errors and warnings.
          </p>
          <li>Canvas</li>
          <p>
            The canvas is the area where the execution result of Puppy are drawn.
          </p>
          <li>Play/Pause Button</li>
          <p>
            When the play button is pushed, the live programming and the physics engine starts to run.
            In the live programming, the canvas seamlessly reflects the execution result of the code.
            After to push the play button, the play button changes to the pause button.
            When the pause button is pushed, the live coding is not paused but the physics engine makes to be paused.
          </p>
        </ul>
        <p>
          We illustrate the flow which a Puppy code is executed and its result is visualized.
          First, the written code in the editor sends to the server.
          Second, the server translates the receiving Puppy code to the javascript code and response it.
          Finally, the javascript code is interpreted by Puppy Virtual Machine (Puppy VM) which is an execution environment on the physics engine.
          Puppy VM handles drawing the objects on the canvas and physics simulating.
        </p>

        <h3>Puppy Virtual Machine</h3>
        <p>
          Puppy Virtual Machine (Puppy VM) is an execution environment on the 2D physics engine.
          We use the 2D physics engine javascript library called matter.js.
          Therefore, Puppy VM acts as a matter.js wrapper that provides an API.
          The following figure schematically represents Puppy VM.
        </p>
        <div class="caption">Puppy VM</div>
        <img src='./image/PuppyVM.png' width="600" height="auto">
        <p>
          To draw an object on the canvas, you need to register the object in matter.js.
          Then, matter.js repeatedly draws and calculates for the registered object.
          Puppy VM provides the API of objects registration and changing parameters which registered objects have.
          These operating objects API is called by the javascript code which Puppy is translated.
          New objects declared in Puppy are registered in matter.js through API.
          When you change the parameter of an object in Puppy, the parameter of the object registered in matter.js is also changed.
          On the other hand, Puppy VM also provides the API to call from a user interface.
          The "start" or "pause" API operate physics calculating and objects drawing on physics engine.
          For example, when the button is pushed, the "start" API is called and order to run the physics engine.
        </p>
        <p>
          Puppy VM has a feature to support live programming.
          The "yield" feature makes for gradual execution.
          The code interpreted by Puppy VM can insert a "yield" keyword, the entire of the code is executed by a "for" statement.
          As a result, it is possible to make a delay in the execution and highlight of the executed code.
          In an educational perspective, it helps to understand programming by confirming the correspondence between the executed code and the changes in the execution state.
        </p>

        <h3>Puppy</h3>
        <p>
        In this section, we introduce the specification of Puppy.
        Puppy is an educational language to step up to practical programming languages.
        The syntax definition of Puppy imitates Python's one.
        <!-- In addition, to reduce the learning cost for syntax, the syntax definition of Puppy is fewer than Python. -->
        The following code is the <i>if</i> statement on Puppy.
        </p>
        <div class="caption">If statement</div>
        <pre class="prettyprint">
v = 10
if v > 5:
  print('condition was true')
else:
  print('condition was false')</pre>
        <p>
          The if statement starts with the keyword <i>if</i> and is followed by a condition.
          In this case, the condition is whether or not the variable <i>v</i> has a value larger than 5.
          If this condition is true, the following statements after a colon are executed.
          Else, the execution skips to after the keyword <i>else</i> and a colon.
          As the variable <i>v</i> has the value 10, this example executes to the statement <i>print('condition was true')</i>.
          Up to this point is similar to Python, although Puppy's print function is executed in Puppy Playground as follows:
        </p>
        <div class="caption">The if statement demonstration</div>
        <video src='./video/if_statement.mov' controls width="60%" height="auto"></video>
        <p>
          This video shows the print function draws a flowing object pasted a string.
          The important feature of Puppy is the description of objects.
          The objects called Puppy objects.
          The following subsections describe Puppy objects more detail.
        </p>
        <h4>World</h4>
        <p>
          A world is an environment to arrange the objects.
          Objects arranged in a world are simulated under the laws of classical mechanics such as gravity, air resistance, frictional resistance, and so on.
          The position of the object is specified in Cartesian coordinate system.
          The origin of the coordinates is at the upper left as shown in the following figure.
          Note that, the x-axis is larger towards the right and the y-axis is larger at the bottom.
          In addition, the point of the position of x, y is expressed as (x, y) after this.
        </p>
        <div class="caption">The coordinate system</div>
        <img src='./image/coordinate.png' width="500" height="auto">
        <p>
          Without the declaration of the world, a world with , height 1000 and gravitational acceleration (0, 1) is created as the default.
          If you want to create a world, write the following code.
        </p>
        <div class="caption">World</div>
        <pre class="prettyprint">World(1600, 900, gravity={'x': 1, 'y': 1}, colorShceme='japan')</pre>
        <p>
          This code creates a world with width 1600, height 900 and gravitational acceleration (1, 1).
          A <i>colorSheme</i> property is to set colors for the objects which not be specified the color.
          In this case, a color that is reminiscent of Japan is set.
        </p>
        <h4>Puppy Objects</h4>
        <p>
          Puppy can easily draw Puppy objects on a world.
          The four shapes are prepared, circle, rectangle, trapezoid, polygon, and label.
          The following code is creating a circle object.
        </p>
        <div class="caption">Create a Circle</div>
        <pre class="prettyprint">C = Circle(500, 500, radius=100)</pre>
        <p>
          A first and a second argument is x and y coordinates respectively.
          Optional arguments can be specified from the third argument.
          In this case, this code draws a circle of radius 100 at (500, 500).
        </p>
        <p>
          In addition to object properties, collision and click events can also be registered as optional arguments.
          For example, when you want to register a click event, write the below code.
        </p>
        <div class="caption">Click event</div>
        <pre class="prettyprint">C = Circle(500, 500, radius=100, clicked=lambda self: print('Hi'), isStatic=True)</pre>
        <p>
          A clicked argument specifies a function of one argument.
          The above example specifies a lambda function that executes print 'Hi'.
          Not to be affected by gravity, the isStatic argument fixes the object.
          The execution results are shown below.
        </p>
        <div class="caption">The click event demonstration</div>
        <video src='./video/clicked.mov' controls width="60%" height="auto"></video>
        <p>
          A label object is useful for displaying text.
          The code to create a Label object.
        </p>
        <div class="caption">Create a label</div>
        <pre class="prettyprint">L = Label(100, 100, value='Hello')</pre>
        <p>
          The text set in the value argument is displayed.
          A isStatic of a label object is <i>True</i> as default.
          Furthermore, since the color of the label object is transparent, it is ideal for displaying text.
          A print function is implemented using label objects.
          The label object is set its value property and moved from right to left.
        </p>
        <!-- Puppyのオブジェクトの書き方とそれぞれのデモを紹介 -->
        <h4>Inheritance</h4>
        <p>
          Abstraction is a crucial technique to write beautiful and maintainable code.
          Puppy supports inheritance to acquire thinking of abstraction.
          Here's the class declaration example and its demonstration.
        </p>
        <div class="caption">Class declaration</div>
        <pre class="prettyprint">class MyBlock(Rectangle):
  width = 80
  height = 60
  def clicked(self):
    print(self.width)

block = MyBlock(100,100)</pre>
        <div class="caption">The class declaration demonstration</div>
        <video src='./video/extends.mov' controls width="60%" height="auto"></video>
        <!-- <div class="caption">Class declaration</div>
        <pre class="prettyprint">class <i>ClassName</i>(<i>SuperClassName</i>,...):
          <i>&lt;Statement&gt;</i>
          &#xFE19;</pre> -->
        <p>
          This example shows declarating <i>MyBlock</i> that inherits from <i>Rectangle</i> and creating its instance.
          When an instance of <i>MyBlock</i> is created, a rectangle object is drawn at the (100, 100) position.
          In this case, the width and height of the object are 80 and 60 respectively without specification at creating the instance.
          In addition, the clicked event is also registered.
        </p>

        <h3>Challenges and Conclusions</h3>
        <p>
          The challenge for a better language is to implement garbage collector.
          Objects that are not referenced should be free, however, the objects remain to register to the physics engine　at this version.
          Thus, it leads to making redundant calculation and memory consumption.
          Hence, we consider implementing the garbage collector to search for unreferenced objects and remove from the physics engine.
        </p>
        <p>
          Another challenge is verification by beginners use.
          We need to investigate whether to learn by Puppy is effective.
          In particular, the crucial point is the practice of coding.
          We will have continued to refinement Puppy for the bridge to the practical programming languages.
        </p>
        <p>
          In this essay, we introduced Puppy with a live environment using a physics engine.
          The development of Puppy open to the public as OSS on Github.
          We believe that this tool helps to practice coding and make fun for many beginners.
        </p>
        <h3>Reference</h3>
        <div class="bibtex_template">
          <ol>
            <li>
              <div class="if author" style="font-weight: bold;">
                <span class="if year">
                  <span class="year"></span>,
                </span>
                <span class="author"></span>
                <span class="if url" style="margin-left: 20px">
                  <a class="url" style="color:black; font-size:10px">(view online)</a>
                </span>
              </div>
              <div style="margin-left: 10px; margin-bottom:5px;">
                <span class="title"></span>
              </div>
            </li>
          </ol>
        </div>
        <div id="bibtex_display" bibtexkey="Scratch"></div>
      </div>

    </div>
  </div>
</body>

</html>