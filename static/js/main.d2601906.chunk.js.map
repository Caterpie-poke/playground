{"version":3,"sources":["components/Header/Header.tsx","components/Version/Version.tsx","components/PuppyScreen/PuppyScreen.tsx","components/Editor/Editor.tsx","components/Course/Course.tsx","logic/util.ts","logic/course.ts","logic/puppy.ts","logic/koinu.ts","logic/editor.ts","logic/setting.ts","App.tsx","index.tsx"],"names":["Header","props","react_default","a","createElement","className","id","Navbar","bg","variant","expand","Brand","onClick","setIsShowVersion","src","width","height","Nav","NavDropdown","title","Object","keys","courses","map","course_path","course","concat","drop","key","list","page","i","Item","href","Button","isSettingOpened","closeSetting","openSetting","react_fontawesome_index_es","icon","faCog","Version","Fragment","Modal","show","onHide","setShow","closeButton","Title","Body","style","whiteSpace","puppy_version","target","PuppyFooter","play","faPlay","fullscreen","faExpand","setIsCourseVisible","isCourseVisible","faBookOpen","faBook","paddingRight","paddingLeft","size","faTerminal","verticalAlign","PuppyScreen","_useState","useState","_useState2","slicedToArray","resizeTimer","setResizeTimer","useEffect","addEventListener","clearTimeout","setTimeout","w","document","getElementById","clientWidth","h","clientHeight","setSize","PuppyScreen_PuppyFooter","EditorFooter","fontPlus","faPlus","fontMinus","faMinus","Editor","_useState3","_useState4","editorOptions","selectOnLineNumbers","fontSize","wordWrap","lightbulb","enabled","lib_default","language","lang","theme","value","source","options","onChange","editorDidMount","Editor_EditorFooter","Course","length","fetchContent","coursePath","path","fetchSample","then","fetchSetting","visibility","visible","Card","Row","Col","xs","faChevronLeft","faChevronRight","dangerouslySetInnerHTML","__html","marked","content","loadFile","fetch","process","method","res","ok","text","Error","statusText","sample","setCourse","s","JSON","parse","catch","msg","console","log","setSource","window","sessionStorage","getItem","Promise","resize","puppy","_w","_h","canvas","render","callKoinu","NLPSymbol","json","editor","defineTheme","base","inherit","rules","colors","editor.background","languages","registerCodeActionProvider","provideCodeActions","model","range","context","_token","codeActions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","markers","Symbol","iterator","next","done","mk","code","push","edit","edits","resource","uri","kind","isPreferred","err","return","all","registerCompletionItemProvider","provideCompletionItems","position","_context","wordInfo","getWordUntilPosition","Range","lineNumber","startColumn","endColumn","suggestions","label","CompletionItemKind","Function","insertText","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","Constructor","Property","codeEditor","decos","setDecos","_event","_decos","getModel","findMatches","match","inlineClassName","deltaDecorations","checkZenkaku","setFontSize","Math","max","setIsSettingOpened","setLang","setItem","setting","App","setEditor","setContent","qs","hash","parseInt","substr","setCourses","isShowVersion","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","courseContent","setCourseContent","_useState11","_useState12","setPuppy","_useState13","_useState14","_useState15","_useState16","editorTheme","setEditorTheme","_useState17","_useState18","editorFontSize","setEditorFontSize","_useState19","_useState20","setCodeEditor","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","setSetting","_useState27","_useState28","load","start","puppyplay","_unused","clSetting","get_course","courseName","fetchCourses","puppyElement","Puppy","initSetting","Container","components_Header_Header","components_Version_Version","components_Course_Course","components_PuppyScreen_PuppyScreen","components_Editor_Editor","ReactDOM","react_router_dom","react_router","src_App_0","query","location","search","split","reduce","obj","v","pair"],"mappings":"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","file":"static/js/main.d2601906.chunk.js","sourcesContent":["import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport { CourseShape } from '../../logic/course';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Button } from 'react-bootstrap';\nimport './Header.css';\n\nexport type HeaderProps = {\n  courses: { [path: string]: CourseShape };\n  isSettingOpened: boolean;\n  setIsShowVersion: (isShow: boolean) => void;\n  openSetting: () => void;\n  closeSetting: () => void;\n};\n\nconst Header: React.FC<HeaderProps> = (props: HeaderProps) => {\n  return (\n    <div className=\"Header\" id=\"puppy-header\">\n      <Navbar bg=\"white\" variant=\"light\" expand=\"lg\">\n        <Navbar.Brand onClick={() => props.setIsShowVersion(true)}>\n          <img\n            src=\"./image/logo.png\"\n            width=\"25\"\n            height=\"25\"\n            className=\"d-inline-block align-top\"\n          />\n          {' Puppy'}\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <NavDropdown title={'Courseware'} id=\"nav-dropdown-courses\">\n            {Object.keys(props.courses).map(course_path => {\n              const course = props.courses[course_path];\n              return (\n                <NavDropdown\n                  title={course.title}\n                  id={`nav-dropdown-pages-${course.title}`}\n                  drop=\"right\"\n                  key={course.title}\n                >\n                  {course.list.map(\n                    (page: { path: string; title: string }, i: number) => (\n                      <NavDropdown.Item\n                        href={`?course=${course_path}#${i}`}\n                        key={i}\n                      >\n                        {page.title}\n                      </NavDropdown.Item>\n                    )\n                  )}\n                </NavDropdown>\n              );\n            })}\n          </NavDropdown>\n        </Nav>\n        <Button\n          onClick={\n            props.isSettingOpened ? props.closeSetting : props.openSetting\n          }\n        >\n          <FontAwesomeIcon icon={faCog} />\n        </Button>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { puppy_version } from 'puppy-transpiler';\n\ntype VersionProps = {\n  show: boolean;\n  setShow: (show: boolean) => void;\n};\n\nconst Version: React.FC<VersionProps> = (props: VersionProps) => {\n  return (\n    <>\n      <Modal show={props.show} onHide={() => props.setShow(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Puppy</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ whiteSpace: 'pre-line' }}>\n          <p>{`Version: ${puppy_version()}`}</p>\n          <p>{'Browser: Google Chrome (OS X), Firefox'}</p>\n          <p>\n            If you find some bugs or suggestions, please send issues in{' '}\n            <a href=\"https://github.com/playpuppy/LIVE2019\" target=\"blank\">\n              {'GitHub'}\n            </a>\n            .\n          </p>\n        </Modal.Body>\n        {/* <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => props.setShow(false)}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={() => props.setShow(false)}>\n            Save Changes\n          </Button>\n        </Modal.Footer> */}\n      </Modal>\n    </>\n  );\n};\n\n// render(<Example />);\n\nexport default Version;\n","import React, { useState, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './PuppyScreen.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faPlay,\n  faExpand,\n  faBookOpen,\n  faBook,\n  faTerminal,\n} from '@fortawesome/free-solid-svg-icons';\n\ntype PuppyFooterProps = {\n  isCourseVisible: boolean;\n  setIsCourseVisible: (visible: boolean) => void;\n  fullscreen: () => void;\n  play: () => void;\n};\n\nconst PuppyFooter: React.FC<PuppyFooterProps> = (props: PuppyFooterProps) => {\n  return (\n    <div id=\"puppy-footer\">\n      <Button onClick={() => props.play()}>\n        <FontAwesomeIcon icon={faPlay} />\n        {' Play'}\n      </Button>\n      <Button onClick={() => props.fullscreen()}>\n        <FontAwesomeIcon icon={faExpand} />\n      </Button>\n      <Button onClick={() => props.setIsCourseVisible(!props.isCourseVisible)}>\n        <FontAwesomeIcon icon={props.isCourseVisible ? faBookOpen : faBook} />\n      </Button>\n      <Button style={{ paddingRight: '1em', paddingLeft: '0.4em' }}>\n        <FontAwesomeIcon\n          size={'xs'}\n          icon={faTerminal}\n          style={{ verticalAlign: 'top' }}\n        />\n      </Button>\n    </div>\n  );\n};\n\nexport type PuppyScreenProps = PuppyFooterProps & {\n  setSize: (width: number, height: number) => void;\n};\n\nconst PuppyScreen: React.FC<PuppyScreenProps> = (props: PuppyScreenProps) => {\n  const [resizeTimer, setResizeTimer] = useState(null as NodeJS.Timeout | null);\n  useEffect(() => {\n    addEventListener('resize', () => {\n      if (resizeTimer) {\n        clearTimeout(resizeTimer);\n        setResizeTimer(null);\n      }\n      setResizeTimer(\n        setTimeout(function() {\n          const w = document.getElementById('puppy-screen')!.clientWidth;\n          const h = document.getElementById('puppy-screen')!.clientHeight;\n          props.setSize(w, h);\n        }, 300)\n      );\n    });\n  }, []);\n\n  return (\n    <>\n      <div\n        id=\"puppy-screen\"\n        onClick={() => props.setIsCourseVisible(false)}\n      ></div>\n      <PuppyFooter\n        isCourseVisible={props.isCourseVisible}\n        setIsCourseVisible={props.setIsCourseVisible}\n        play={props.play}\n        fullscreen={props.fullscreen}\n      />\n    </>\n  );\n};\n\nexport default PuppyScreen;\n","import React, { useEffect, useState } from 'react';\nimport MonacoEditor from 'react-monaco-editor';\nimport './Editor.css';\n\nimport { Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons';\nimport { CodeEditor, ContentChangedEvent } from '../../logic/editor';\n\ntype EditorFooterProps = {\n  fontPlus: () => void;\n  fontMinus: () => void;\n};\n\nconst EditorFooter: React.FC<EditorFooterProps> = (\n  props: EditorFooterProps\n) => {\n  return (\n    <div id=\"editor-footer\">\n      <Button>{'Monitor'}</Button>\n      <Button onClick={props.fontPlus}>\n        <FontAwesomeIcon icon={faPlus} />\n      </Button>\n      <Button onClick={props.fontMinus}>\n        <FontAwesomeIcon icon={faMinus} />\n      </Button>\n    </div>\n  );\n};\n\nexport type EditorProps = {\n  fontSize: number;\n  theme: string;\n  source: string;\n  lang: string;\n  onChange: (source: string, event: ContentChangedEvent) => void;\n  editorDidMount: (editor: CodeEditor) => void;\n  fontPlus: () => void;\n  fontMinus: () => void;\n};\n\nconst Editor: React.FC<EditorProps> = (props: EditorProps) => {\n  const [size, setSize] = useState({ height: 500, width: 500 });\n  const [resizeTimer, setResizeTimer] = useState(null as NodeJS.Timeout | null);\n  const editorOptions = {\n    selectOnLineNumbers: true,\n    fontSize: props.fontSize,\n    wordWrap: 'on' as 'on',\n    lightbulb: { enabled: true },\n  };\n\n  useEffect(() => {\n    addEventListener('resize', () => {\n      if (resizeTimer) {\n        clearTimeout(resizeTimer);\n        return;\n      }\n      setResizeTimer(\n        setTimeout(function() {\n          setSize({\n            height: document.getElementById('right-col')!.clientWidth,\n            width: document.getElementById('right-col')!.clientHeight,\n          });\n        }, 300)\n      );\n    });\n    setSize({\n      height: document.getElementById('right-col')!.clientWidth,\n      width: document.getElementById('right-col')!.clientHeight,\n    });\n  }, []);\n\n  return (\n    <div id=\"puppy-editor\">\n      <MonacoEditor\n        width={size.width}\n        height={size.height}\n        language={props.lang}\n        theme={props.theme}\n        value={props.source}\n        options={editorOptions}\n        onChange={props.onChange}\n        editorDidMount={props.editorDidMount}\n      />\n      <EditorFooter fontPlus={props.fontPlus} fontMinus={props.fontMinus} />\n    </div>\n  );\n};\n\nexport default Editor;\n","import React, { useEffect } from 'react';\nimport * as marked from 'marked';\nimport { Card, Col, Row } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faChevronRight,\n  faChevronLeft,\n} from '@fortawesome/free-solid-svg-icons';\nimport { CourseShape } from '../../logic/course';\n\nimport './Course.css';\nimport './github-markdown.css';\n\ntype CourseProps = {\n  course: CourseShape;\n  coursePath: string;\n  page: number;\n  content: string;\n  visible: boolean;\n  play: (source: string) => () => void;\n  fetchContent: (coursePath: string, path: string) => void;\n  fetchSample: (coursePath: string, path: string) => Promise<string>;\n  fetchSetting: (coursePath: string) => void;\n  closeSetting: () => void;\n};\n\nconst Course: React.FC<CourseProps> = (props: CourseProps) => {\n  useEffect(() => {\n    if (props.course.list.length !== 0) {\n      props.closeSetting();\n      props.fetchContent(props.coursePath, props.course.list[props.page].path);\n      props\n        .fetchSample(props.coursePath, props.course.list[props.page].path)\n        .then((source: string) => {\n          props.play(source)();\n        });\n    }\n  }, [props.page, props.coursePath, props.course]);\n\n  useEffect(() => {\n    props.fetchSetting(props.coursePath);\n  }, [props.coursePath]);\n\n  return (\n    <div\n      id=\"puppy-course\"\n      style={{ visibility: props.visible ? 'visible' : 'hidden' }}\n    >\n      <Card className=\"course-all\">\n        <Card.Header className=\"course-header\">\n          {/* <Row>\n            <button\n              className=\"close-button\"\n              onClick={() => props.setVisible(false)}\n            >\n              <FontAwesomeIcon icon={faTimes} />\n            </button>\n          </Row> */}\n          <Row>\n            <Col className=\"card-header-left\" xs={6}>\n              {props.course.list &&\n              props.course.list.length !== 0 &&\n              props.page !== 0 ? (\n                <a href={`#${props.page - 1}`}>\n                  <FontAwesomeIcon icon={faChevronLeft} />\n                  {` ${props.course.list[props.page - 1].title}`}\n                </a>\n              ) : null}\n            </Col>\n            <Col className=\"card-header-right\" xs={6}>\n              {props.course.list &&\n              props.course.list.length !== 0 &&\n              props.page !== props.course.list.length - 1 ? (\n                <a href={`#${props.page + 1}`}>\n                  {`${props.course.list[props.page + 1].title} `}\n                  <FontAwesomeIcon icon={faChevronRight} />\n                </a>\n              ) : null}\n            </Col>\n          </Row>\n        </Card.Header>\n        <Card.Body className=\"course-body\">\n          <div\n            className=\"markdown-body\"\n            dangerouslySetInnerHTML={{\n              __html: marked(props.content),\n            }}\n          ></div>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default Course;\n","export const loadFile: (path: string) => Promise<string> = path => {\n  return fetch(`${process.env['PUBLIC_URL']}${path}`, {\n    method: 'GET',\n  })\n    .then((res: Response) => {\n      if (res.ok) {\n        return res.text();\n      }\n      throw new Error(res.statusText);\n    })\n    .then((sample: string) => {\n      return sample;\n    });\n};\n","import { loadFile } from './util';\n\nexport type CourseShape = {\n  title: string;\n  list: {\n    path: string;\n    title: string;\n  }[];\n};\n\nexport type Courses = { [path: string]: CourseShape };\n\nexport const fetchSetting = (setCourse: (course: CourseShape) => void) => (\n  path: string\n): Promise<void> =>\n  loadFile(`/course/${path}/setting.json`)\n    .then((s: string) => {\n      return JSON.parse(s);\n    })\n    .then((course: CourseShape) => {\n      setCourse(course);\n    })\n    .catch((msg: string) => {\n      console.log(`ERR ${msg}`);\n    });\n\nexport const fetchContent = (setContent: (content: string) => void) => (\n  coursePath: string,\n  path: string\n): Promise<void> =>\n  loadFile(`/course/${coursePath}/${path}/index.md`).then((content: string) =>\n    setContent(content)\n  );\n\nexport const fetchSample = (setSource: (source: string) => void) => (\n  coursePath: string,\n  path: string\n): Promise<string> => {\n  const sample = window.sessionStorage.getItem(\n    `/course/${coursePath}/${path}/sample.py`\n  );\n  if (sample) {\n    setSource(sample);\n    return new Promise(() => sample);\n  }\n  return loadFile(`/course/${coursePath}/${path}/sample.py`).then(\n    (sample: string) => {\n      setSource(sample);\n      return sample;\n    }\n  );\n};\n\nexport const fetchCourses = (setCourses: (courses: Courses) => void) => {\n  const courses: Courses = {};\n  const get_course: Promise<void>[] = ['NLP'].map((courseName: string) =>\n    loadFile(`/course/${courseName}/setting.json`)\n      .then((s: string) => JSON.parse(s))\n      .then((course: CourseShape) => {\n        courses[courseName] = course;\n      })\n  );\n  Promise.all(get_course).then(() => setCourses(courses));\n};\n","import { Puppy } from '@playpuppy/puppy2d';\n\nexport const resize = (puppy: Puppy | null) => {\n  if (puppy) {\n    return puppy.resize;\n  } else {\n    return (_w: number, _h: number) => {};\n  }\n};\n\nexport const play = (puppy: Puppy | null) => (source: string) => () => {\n  if (puppy && puppy.load(source)) {\n    puppy.start();\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const fullscreen = (puppy: Puppy | null) => () => {\n  if (puppy) {\n    const canvas = puppy.render!.canvas;\n    if (canvas) {\n      // FIXME\n      if (canvas['webkitRequestFullscreen']) {\n        canvas['webkitRequestFullscreen'](); // Chrome15+, Safari5.1+, Opera15+\n      } else if (canvas['mozRequestFullScreen']) {\n        canvas['mozRequestFullScreen'](); // FF10+\n      } else if (canvas['msRequestFullscreen']) {\n        canvas['msRequestFullscreen'](); // IE11+\n      } else if (canvas['requestFullscreen']) {\n        canvas['requestFullscreen'](); // HTML5 Fullscreen API仕様\n      } else {\n        // alert('ご利用のブラウザはフルスクリーン操作に対応していません');\n        return;\n      }\n    }\n  }\n};\n","export const callKoinu = (NLPSymbol: string) =>\n  fetch(`http://localhost:8888/api/option/${NLPSymbol}`, {\n    method: 'POST',\n  }).then((res: Response) => {\n    if (res.ok) {\n      return res.json();\n    }\n  });\n","import {\n  editor,\n  languages,\n  Range,\n  CancellationToken,\n  Position,\n} from 'monaco-editor';\nimport { callKoinu } from './koinu';\n\nexport type CodeEditor = editor.IStandaloneCodeEditor;\nexport type ContentChangedEvent = editor.IModelContentChangedEvent;\n\neditor.defineTheme('error', {\n  base: 'vs',\n  inherit: true,\n  rules: [],\n  colors: {\n    'editor.background': '#ffEEEE',\n  },\n});\n\nlanguages.registerCodeActionProvider('python', {\n  provideCodeActions: (\n    model: editor.ITextModel,\n    range: Range,\n    context: languages.CodeActionContext,\n    _token: CancellationToken\n  ) => {\n    const codeActions: Promise<languages.CodeAction>[] = [];\n    for (const mk of context.markers) {\n      switch (mk.code) {\n        case 'NLKeyValues': {\n          const NLPSymbol = mk.source;\n          if (NLPSymbol) {\n            codeActions.push(\n              callKoinu(NLPSymbol).then(json => {\n                console.log(json);\n                const key = Object.keys(json)[0];\n                let text = '';\n                if (key == 'shape') {\n                  text = json[key];\n                } else if (key == 'color') {\n                  text = `fillStyle=\"${json[key]}\"`;\n                } else {\n                  text = `${key}=${\n                    typeof json[key] == 'string' ? `\"${json[key]}\"` : json[key]\n                  }`;\n                }\n                return {\n                  title: `もしかして「${text}」ですか？`,\n                  edit: {\n                    edits: [\n                      {\n                        edits: [\n                          {\n                            range,\n                            text,\n                          },\n                        ],\n                        resource: model.uri,\n                      },\n                    ],\n                  },\n                  kind: 'quickfix',\n                  isPreferred: true,\n                };\n              })\n            );\n          }\n          break;\n        }\n        default:\n          break;\n      }\n    }\n    return Promise.all(codeActions);\n  },\n});\n\nlanguages.registerCompletionItemProvider('python', {\n  provideCompletionItems: (\n    model: editor.ITextModel,\n    position: Position,\n    _context: languages.CompletionContext,\n    _token\n  ) => {\n    const wordInfo = model.getWordUntilPosition(position);\n    const range = new Range(\n      position.lineNumber,\n      wordInfo.startColumn,\n      position.lineNumber,\n      wordInfo.endColumn\n    );\n    const math = [\n      'pi',\n      'sin',\n      'cos',\n      'tan',\n      'sqrt',\n      'log',\n      'log10',\n      'pow',\n      'hypot',\n      'gcd',\n    ];\n    const python = ['input', 'print', 'len', 'range', 'int', 'float', 'str'];\n    const random = ['random'];\n    const matter = ['World', 'Circle', 'Rectangle', 'Polygon', 'Label'];\n    const parameters = [\n      'width',\n      'height',\n      'isStatic',\n      'restitution',\n      'fillStyle',\n      'image',\n      'strokeStyle',\n      'lineWidth',\n    ];\n\n    const suggestions: languages.CompletionItem[] = [];\n\n    math.map(label => {\n      suggestions.push({\n        label,\n        kind: languages.CompletionItemKind.Function,\n        insertText: `${label}(\\${1})`,\n        insertTextRules: languages.CompletionItemInsertTextRule.InsertAsSnippet,\n        range,\n      });\n    });\n\n    python.map(label => {\n      suggestions.push({\n        label,\n        kind: languages.CompletionItemKind.Function,\n        insertText: `${label}(\\${1})`,\n        insertTextRules: languages.CompletionItemInsertTextRule.InsertAsSnippet,\n        range,\n      });\n    });\n\n    random.map(label => {\n      suggestions.push({\n        label,\n        kind: languages.CompletionItemKind.Function,\n        insertText: `${label}(\\${1})`,\n        insertTextRules: languages.CompletionItemInsertTextRule.InsertAsSnippet,\n        range,\n      });\n    });\n\n    matter.map(label => {\n      suggestions.push({\n        label,\n        kind: languages.CompletionItemKind.Constructor,\n        insertText: `${label}(\\${1})`,\n        insertTextRules: languages.CompletionItemInsertTextRule.InsertAsSnippet,\n        range,\n      });\n    });\n\n    parameters.map(label => {\n      suggestions.push({\n        label,\n        kind: languages.CompletionItemKind.Property,\n        insertText: `${label}=`,\n        range,\n      });\n    });\n    return { suggestions: suggestions };\n  },\n});\n\nconst zenkaku =\n  '[！　”＃＄％＆’（）＊＋，－．／：；＜＝＞？＠［＼￥］＾＿‘｛｜｝～￣' +\n  'ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ' +\n  'ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ' +\n  '１２３４５６７８９０' +\n  '｡｢｣､･ｦｧｨｩｪｫｬｭｮｯｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾉﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝﾞﾟ]';\n\nconst checkZenkaku = (\n  codeEditor: CodeEditor,\n  decos: string[],\n  setDecos: (decos: string[]) => void\n) => {\n  const zenkakuRanges = codeEditor\n    .getModel()!\n    .findMatches(zenkaku, true, true, false, null, false);\n  const _decos: editor.IModelDeltaDecoration[] = zenkakuRanges.map(\n    (match: editor.FindMatch) => ({\n      range: match.range,\n      options: { inlineClassName: 'zenkakuClass' },\n    })\n  );\n  setDecos(codeEditor.deltaDecorations(decos, _decos));\n};\n\nexport const onChange = (\n  codeEditor: CodeEditor | null,\n  setSource: (source: string) => void,\n  decos: string[],\n  setDecos: (decos: string[]) => void\n) => (source: string, _event: editor.IModelContentChangedEvent) => {\n  if (codeEditor) {\n    checkZenkaku(codeEditor, decos, setDecos);\n  }\n  setSource(source);\n};\n\nexport const editorDidMount = (setEditor: (editor: CodeEditor) => void) => (\n  editor: CodeEditor\n) => {\n  setEditor(editor);\n};\n\nexport const fontPlus = (\n  fontSize: number,\n  setFontSize: (fontSize: number) => void\n) => () => {\n  setFontSize(fontSize + 3);\n};\n\nexport const fontMinus = (\n  fontSize: number,\n  setFontSize: (fontSize: number) => void\n) => () => {\n  setFontSize(Math.max(12, fontSize - 3));\n};\n","import { loadFile } from './util';\n\nconst TMP_PATH = 'setting/tmp';\n\nexport const initSetting = (setSetting: (setting: JSON) => void) => {\n  loadFile('/setting.json').then((setting: string) => {\n    setSetting(JSON.parse(setting));\n  });\n};\n\nexport const openSetting = (\n  setIsSettingOpened: (isOpened: boolean) => void,\n  source: string,\n  setSource: (source: string) => void,\n  setLang: (lang: string) => void\n) => () => {\n  setIsSettingOpened(true);\n  window.sessionStorage.setItem(TMP_PATH, source);\n  loadFile('/setting.json').then((setting: string) => {\n    setSource(setting);\n    setLang('json');\n  });\n};\n\nexport const closeSetting = (\n  setIsSettingOpened: (isOpened: boolean) => void,\n  source: string,\n  setSource: (source: string) => void,\n  setSetting: (setting: JSON) => void,\n  setLang: (lang: string) => void\n) => () => {\n  setIsSettingOpened(false);\n  const code = window.sessionStorage.getItem(TMP_PATH);\n  if (source) {\n    try {\n      const json = JSON.parse(source);\n      setSetting(json);\n    } catch {\n      console.log(source);\n    }\n  }\n  if (code) {\n    setSource(code);\n    setLang('python');\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport Header from './components/Header/Header';\nimport Version from './components/Version/Version';\nimport PuppyScreen from './components/PuppyScreen/PuppyScreen';\nimport Editor from './components/Editor/Editor';\nimport Course from './components/Course/Course';\nimport { QueryParams } from './index';\nimport {\n  fetchCourses,\n  Courses,\n  CourseShape,\n  fetchContent,\n  fetchSample,\n  fetchSetting,\n} from './logic/course';\nimport { Puppy } from '@playpuppy/puppy2d';\nimport { play as puppyplay, fullscreen, resize } from './logic/puppy';\nimport {\n  onChange,\n  editorDidMount,\n  fontMinus,\n  fontPlus,\n  CodeEditor,\n} from './logic/editor';\nimport {\n  openSetting,\n  closeSetting as clSetting,\n  initSetting,\n} from './logic/setting';\n\ntype AppProps = { qs: QueryParams; hash: string };\n\nconst App: React.FC<AppProps> = (props: AppProps) => {\n  const coursePath = props.qs.course ? props.qs.course : 'LIVE2019';\n  const page = props.hash !== '' ? parseInt(props.hash.substr(1)) : 0;\n  const [courses, setCourses] = useState({} as Courses);\n  const [isShowVersion, setIsShowVersion] = useState(false);\n  const [isCourseVisible, setIsCourseVisible] = useState(false);\n  const [course, setCourse] = useState({ title: '', list: [] } as CourseShape);\n  const [courseContent, setCourseContent] = useState('');\n  const [puppy, setPuppy] = useState(null as Puppy | null);\n  const [source, setSource] = useState('');\n  const [editorTheme, setEditorTheme] = useState('vs');\n  const [editorFontSize, setEditorFontSize] = useState(24);\n  const [codeEditor, setCodeEditor] = useState(null as CodeEditor | null);\n  const [decos, setDecos] = useState([] as string[]);\n  const [isSettingOpened, setIsSettingOpened] = useState(false);\n  const [_setting, setSetting] = useState({} as JSON);\n  const [lang, setLang] = useState('python');\n\n  const play = (puppy: Puppy | null) => (source: string) => () => {\n    if (puppyplay(puppy)(source)()) {\n      setEditorTheme('vs');\n    } else {\n      setEditorTheme('error');\n    }\n  };\n\n  const closeSetting = clSetting(\n    setIsSettingOpened,\n    source,\n    setSource,\n    setSetting,\n    setLang\n  );\n\n  useEffect(() => {\n    fetchCourses(setCourses);\n    const puppyElement = document.getElementById('puppy-screen');\n    if (puppyElement) {\n      const puppy = new Puppy(puppyElement, {});\n      // puppy.addEventListener('error', setLog);\n      // puppy.addEventListener('warning', setLog);\n      // puppy.addEventListener('info', setLog);\n      setPuppy(puppy);\n    }\n    initSetting(setSetting);\n  }, []);\n  return (\n    <div className=\"App\">\n      <Container className=\"container\">\n        <Header\n          courses={courses}\n          setIsShowVersion={setIsShowVersion}\n          isSettingOpened={isSettingOpened}\n          openSetting={openSetting(\n            setIsSettingOpened,\n            source,\n            setSource,\n            setLang\n          )}\n          closeSetting={closeSetting}\n        />\n        <Version setShow={setIsShowVersion} show={isShowVersion} />\n        <Row id=\"main-row\">\n          <Col id=\"left-col\" xs={6}>\n            <Course\n              course={course}\n              coursePath={coursePath}\n              page={page}\n              content={courseContent}\n              visible={isCourseVisible}\n              play={play(puppy)}\n              fetchContent={fetchContent(setCourseContent)}\n              fetchSample={fetchSample(setSource)}\n              fetchSetting={fetchSetting(setCourse)}\n              closeSetting={closeSetting}\n            />\n            <PuppyScreen\n              isCourseVisible={isCourseVisible}\n              setIsCourseVisible={setIsCourseVisible}\n              play={play(puppy)(source)}\n              fullscreen={fullscreen(puppy)}\n              setSize={resize(puppy)}\n            />\n          </Col>\n          <Col id=\"right-col\" xs={6}>\n            <Editor\n              fontSize={editorFontSize}\n              theme={editorTheme}\n              source={source}\n              lang={lang}\n              onChange={onChange(codeEditor, setSource, decos, setDecos)}\n              editorDidMount={editorDidMount(setCodeEditor)}\n              fontPlus={fontPlus(editorFontSize, setEditorFontSize)}\n              fontMinus={fontMinus(editorFontSize, setEditorFontSize)}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nexport type QueryParams = {\n  course?: string;\n};\n\nconst queryParser = (query: string) =>\n  query\n    .substr(1)\n    .split('&')\n    .reduce((obj, v) => {\n      const pair = v.split('=');\n      obj[pair[0]] = pair[1];\n      return obj;\n    }, {});\n\nReactDOM.render(\n  <Router>\n    <Route\n      render={props => (\n        <App\n          qs={queryParser(props.location.search)}\n          hash={props.location.hash}\n        />\n      )}\n    />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}